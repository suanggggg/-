# 技术与实施建议（详版）

## 推荐技术栈（后端优先）
- 前端：React + Ant Design（PC 优先），后续可做小程序/移动端。
- 后端：Python + FastAPI（轻量、开发效率高、内置 OpenAPI）。
- 数据库：PostgreSQL（生产），SQLite（开发/演示）。
- 搜索：Elasticsearch 或 Opensearch（试题全文检索与智能推荐）。
- 缓存/队列：Redis（缓存、分布式锁、队列） + Celery（异步任务）。
- 对象存储：S3 / 阿里 OSS（音视频、文档、转码产物）。
- 多媒体处理：FFmpeg（转码）、ASR 使用第三方服务或 Whisper 本地部署。
- 监控：Prometheus + Grafana；日志集中化 ELK/EFK。

## 第三方服务建议
- ASR（语音识别）：科大讯飞 / 百度云（商业化、准确率高、中文优化）或 OpenAI Whisper（本地/托管）——商业方案建议讯飞/百度以保证实时性与稳定性。
- 视频/音频转码与存储：使用云厂商对象存储 + FFmpeg 转码服务。
- 实时音视频：基于 RTC 服务（Agora/腾讯云 TRTC/阿里云 RTC），用于多人无领导小组讨论与专家实时评分。
- 支付：微信支付、支付宝、银联（按客户覆盖选择）。

## ASR / 行为分析选型与成本估算（粗略）
- 选项 A（云服务：讯飞/百度）：准确率高、延迟低、服务稳定；成本按分钟收费（示例：¥0.1-¥0.5/分钟）。优点：省运维、支持并发；缺点：持续费用。
- 选项 B（开源+自建：Whisper）：模型推理费用（GPU/CPU）、可离线部署，单次推理成本依赖自建算力；优点：无调用费、数据可控；缺点：需要较大算力、延迟较高（视硬件）。
- 建议：MVP 采用云 ASR（节省开发与运维），后期对敏感数据或成本优化考虑自建 Whisper。

## 实施步骤建议（按迭代）
1. MVP（3-4 个月）
  - 用户管理、注册/登录、贡献分基础逻辑。
  - 试题库基础（人工导入、检索）。
  - 面试人机训练（录音上传 + ASR 批评估）、基础雷达图展示。
  - 支付与课程报名（最小可用流程）。
2. 阶段 2（2-3 个月）
  - 自动抓取与审核工作流。
  - 专家线上打分、在线多人模拟（基础 RTC）。
  - 贡献分交易市场雏形。
3. 阶段 3（优化与规模化）
  - 行为与视频分析、模型驱动推荐、风控与防作弊。
  - 多区部署与高并发优化。

## 风险与防范
- 抓取内容版权风险——强制人工审核与来源记录、下架机制。
- 贡献分被刷/洗钱风险——交易限额、风控规则、人工审查。
- 音视频隐私合规——签署用户协议、提供数据删除/导出功能。

## 推荐工具/库清单
- FastAPI, SQLAlchemy, Alembic (迁移), Redis, Celery, Elasticsearch, FFmpeg, protobuf/rtc libs, ASR SDK (讯飞/百度) 或 Whisper。
